function creatin(){function n(n,i,e){for(e=gebi(e);n<i;n++)e.innerHTML+='<button id="b'+n+'"   onclick="'+arF[n]+')"  class="btn disabled '+arCl[n]+' "role="button" >'+arIH[n]+"</button>"}let i=" btn-primary Cbtn",e=" btn-success btn-ver",t=" btn-info symbolBtn",r="add(",l="adCar(",o="addSymbF(",p="addSymbP(",c="retour(",s="clearing(",a="scNrml(",d="save(",h="toFchr(",u="addSave(",g="upRes(",f="addVrgl(";if(arF=[r+"'sin('",r+"'cos('",r+"'tan('",l+"'%'",r+"'abs('",a,r+"'asin('",r+"'acos('",r+"'atan('",r+"'e^('",r+"'Ln('",r+"'Log('",r+"'sinh('",r+"'cosh('",r+"'tanh('",r+"'('",l+"')'",s,r+"'&pi;'",l+"'^('",r+"'√('",l+"'^(-1)'",l+"'²'",c,r+"'7'",r+"'8'",r+"'9'",o+"'÷'",d,r+"'4'",r+"'5'",r+"'6'",o+"'×'",h,r+"'1'",r+"'2'",r+"'3'",p+"'-'",u,r+"'0'",r+"'(-'",f,p+"'+'",g,r+"'('",l+"')'",a,s,o+"'÷'",o+"'×'",l+"'%'",c,r+"'7'",r+"'8'",r+"'9'",l+"'^(-1)'",r+"'4'",r+"'5'",r+"'6'",p+"'-'",r+"'1'",r+"'2'",r+"'3'",p+"'+'",r+"'0'",r+"'(-'",f,g],arClN=[i,i,i,i,t,t,t,i+" btn-primary2",e,e,e,t,e,e,e,t,e,e,e,t,e,e,e,t],arCl=[...Array(23).keys()],arIH=["sin","cos","tan","%","|x|","S/N","asin","acos","atan","e<sup>x</sup>","Ln","Log","sinh","cosh","tanh","(",")","C","&pi;","y<sup>x</sup>","√x","1/x","x²","←","7","8","9","÷","XM","4","5","6","×","RM","1","2","3","-","M+","0","-/+",".","+","=","(",")","N/S","C","÷","×","%","←","7","8","9","1/x","4","5","6","-","1","2","3","+","0","-/+",".","="],arCl.fill(i),arCl.push(i+" btn-primary2",e,e,e,t,t,e,e,e,t,t,e,e,e,t,t,e,e,e,t,t),arCl=arCl.concat(arClN),n(0,24,"fdiv"),n(24,44,"divNum"),n(44,68,"nrmldv"),gHist(),gebi("b51").style.height="100%","sc"===localStorage.ScNo&&(SCN="sc"),scNrml(),localStorage.getItem("mim")){localStorage.mim;gebi("mimoir").style.color="black"}document.addEventListener("click",()=>{gebi("psSp").style.display="none"}),addEventListener("keydown",n=>{n.preventDefault();let i=n.keyCode,e=[[110,107,109,106,111,219,53,8,13],["b41","b42","b37","b32","b27","b16","b15","b23","b43"]];i>95&&i<106&&add(i-96);for(let n=0;n<e[0].length;n++)i===e[0][n]&&gebi(e[1][n]).click()}),gebi("clVu").innerHTML+='<iframe src="https://maktaeliliktroniya.blogspot.com/2022/08/calculator.html" frameborder="0"></iframe>',gebi("clVu").style.display="none"}function gebi(n){return document.getElementById(n)}function clearing(){fichour.innerText="0",result.innerText=""}function forziro(){"0"==fichour.innerText&&(fichour.innerText="")}function toFchr(n=mim){forziro();let i=fichour.innerText,e=n.replace(/\d|,/g,"");inp=i.replace(/\d/g,""),"."==inp[inp.length-1]&&"."==e[0]?i+="+"+slcFchr(n):(i+=n,i=slcFchr(i)),fichour.innerText=i,jump()}function hiToDiv(n){let i=localStorage["lHist"+n];return i=i.split("@#"),i}function ind(n,i,e=0){return n=n.indexOf(i,e),n}function laIn(n,i,e=n.length){return n.lastIndexOf(i,e)}function rep(n,i,e){return n.replaceAll(i,e)}function frNm(n){n+="";let i="",e=ind(n,".");return e>-1&&(i=n.slice(e,n.length),n=n.slice(0,e)),n=new Intl.NumberFormat("en").format(n),n+i}function slcFchr(n){n=rep(n,",","");let i=/\d\d\d\d/;if(i.test(n)){let i=n.split(/[^\d|'.']/g),e=n.replace(/[\d|'.']/g,"");n="",i.forEach((i,t)=>{i&&(i=frNm(i),n+=i),e[t]&&(n+=e[t])})}return n}function hist(){gebi("contHist").style.display="block",setTimeout(()=>{gebi("divHist").className+=" dHtrnf"},100),gebi("lHist").scrollTop=gebi("lHist").scrollHeight}function hidHist(){gebi("divHist").className="divHist",setTimeout(()=>{gebi("contHist").style.display="none"},210)}function scNrml(){let n=[["fdiv","divNum","drg","nrmldv"],[["none","none","none","grid"],["grid","grid","block","none"]]];if("normal"==SCN){for(let i=0;i<n[0].length;i++)gebi(n[0][i]).style.display=n[1][0][i];localStorage.ScNo="normal",SCN="sc"}else{for(let i=0;i<n[0].length;i++)gebi(n[0][i]).style.display=n[1][1][i];localStorage.ScNo="sc",SCN="normal"}}function jump(){inp=fichour.innerText;let n=/[^1-9]0\d/g,i="0123456789",e="+-/×*^(",t=/\d\d\d\d/;for(;"0"==inp.charAt(0)&&ind(i,inp.charAt(1))>-1&&"0"!=inp;)inp=inp.slice(1,inp.length);if(n.test(inp)){let n,t=ind(inp,"0");for(;t>-1;)n=inp.slice(t,inp.length),inp=inp.slice(0,t),ind(e,inp.charAt(t-1))>-1&&ind(i,n.charAt(1))>-1?n=n.slice(1,n.length):t++,inp+=n,t=ind(inp,"0",t)}if(t.test(inp)){let n=inp.split(/[^\d|'.'|',']/g),i=n[n.length-1],e=i;i&&(e=rep(e,",",""),e=frNm(e),inp=inp.slice(0,laIn(inp,i)),inp+=e)}fichour.innerText=inp,dvfch.scrollTop=dvfch.scrollHeight,calcule()}function upRes(){if(""==result.innerText||ind(result.innerText,"You must")>-1)return!1;result.className+=" ogmentation";let n=fichour.innerText,i=result.innerText;dvfch.className+=" upScrl",dvfch.scrollTo({top:1e3,behavior:"smooth"}),svHist(n,i),fichour.className="",setTimeout(()=>{fichour.innerText=i,dvfch.className="inp",result.innerText="",result.className="result",fichour.className="fchr"},300)}function add(n){forziro();let i=fichour.innerText,e=")²%π",t=i.charAt(i.length-1);ind(e,t)>-1&&addSymbF("×"),fichour.innerText+=n,jump()}function adCar(n){let i=fichour.innerText,e=i.length,t="+"+i,r=t.charAt(e),l="/÷*×-+(^",o=rep(i,"(","").length,p=rep(i,")","").length;(ind(l,r)<0&&ind("%²",r)<0||ind("^(²",n)<0)&&(")"!=n||o<p&&"("!=r)&&(i+=n),fichour.innerText=i,jump()}function addSymbF(n){let i=fichour.innerText,e="("+i,t=e.length-2,r=e.charAt(t+1),l=e.charAt(t),o="/÷*×-+.,";ind("(^",r)<0&&(ind(o,r)>-1?ind("(^",l)<0&&(i=i.slice(0,t)+n):i+=n),result.innerText="",fichour.innerText=i,fichour.scrollTop=fichour.scrollHeight}function addSymbP(n){inp=fichour.innerText;let i=inp.length-1,e=inp.charAt(i),t="+",r="/÷*×-+.,";return ind(r,e)>-1&&(inp=inp.slice(0,i),t=""),inp+=n,result.innerText="",fichour.innerText=inp,fichour.scrollTop=fichour.scrollHeight,t}function addVrgl(){inp="+"+fichour.innerText;let n=")%π",i="+-/×*^÷(",e=inp.charAt(inp.length-1),t="";laIn(inp,".");ind(n,e)>-1?t="×0.":ind(i,e)>-1?t="0.":"."!==e&&(t="."),inp=inp.replace(/\d/g,""),"."==inp[inp.length-1]&&(t=""),fichour.innerText+=t,jump()}function retour(){inp=fichour.innerText;let n=inp.length,i=/([a-z]|\^|√)/gi,e=inp.charAt(n-1),t=inp.charAt(n-2);if("("==e&&i.test(t)){let n=[["abs(","cosh(","acos(","cos(","e^(","Ln(","Log(","√(","asin(","sinh(","sin(","atan(","tanh(","tan("],["d","f","j","k","m","p","q","r","u","v","w","x","y","z"]];for(let i=0;i<n[0].length;i++)inp=rep(inp.loCase(),n[0][i].loCase(),n[1][i]);inp=inp.slice(0,inp.length-1);for(let i=0;i<n[0].length;i++)inp=rep(inp,n[1][i],n[0][i])}else inp=inp.slice(0,inp.length-1);let r=inp.split(/[^\d|'.'|',']/g),l=r[r.length-1],o=l;inp=inp.slice(0,laIn(inp,l)),o=rep(o,",",""),inp+=o,fichour.innerText=inp,jump()}function drgFun(){let n=gebi("drg").innerText;"deg"==n?(gebi("drg").innerText="rad",ongl="1",reOngl="1"):"rad"==n?(gebi("drg").innerText="grad",ongl="0.015707963267948967",reOngl="63.66197723675813"):(gebi("drg").innerText="deg",ongl="0.017453292519943295",reOngl="57.29577951308329"),jump()}function save(){"0"!==fichour.innerText&&""!==fichour.innerText?(mim=fichour.innerText,fichour.innerText="",setTimeout(()=>{fichour.innerText=mim},90),localStorage.mim=mim,gebi("mimoir").style.color="black"):""!=fichour.innerText&&"0"!=fichour.innerText||(gebi("mimoir").style.color="transparent",mim="",localStorage.mim=""),fichour.scrollTop=fichour.scrollHeight}function addSave(){if(0==mim.length)save();else{let n=fichour.innerText;mim+=addSymbP("+")+n,fichour.innerText="",setTimeout(()=>{fichour.innerText=n},90),localStorage.mim=mim}fichour.scrollTop=fichour.scrollHeight}function svHist(n,i){let e=gebi("lHist");if(n==rLHF[rLHF.length-1])return!1;"0"===fichour.innerText&&fichour.innerText,e.innerHTML+=' <div onclick="toFchr( this.innerText)" class="inpHist"><div>'+n+'</div></div><div class="result resultHist" onclick="toFchr( this.innerText)">'+i+"</div> <hr>",rLHF.length>20&&(rLHF=rLHF.slice(1,rLHF.length),rLHR=rLHR.slice(1,rLHR.length)),rLHF.push(n),rLHR.push(i),localStorage.lHistF=rLHF.join("@#"),localStorage.lHistR=rLHR.join("@#")}function gHist(){if(localStorage.getItem("lHistF")){let n=gebi("lHist"),i="";rLHF=hiToDiv("F"),rLHR=hiToDiv("R");for(let n=0;n<rLHF.length;n++)i+='<div onclick="toFchr( this.innerText)" class="inpHist">'+rLHF[n]+'</div><div class="result resultHist" onclick="toFchr( this.innerText)">'+rLHR[n]+"</div> <hr>";n.innerHTML=i}}function nFix(){function n(n,i,e=0){let t,r=""+n,l=ind(r,"e"),o=1*r.slice(l+1,r.length);return n=1*r.slice(0,l),o-=e,n=1*n.toFixed(i),t=1*n.toFixed(5),Math.abs(n-t)<1e-10&&(n=1*n.toFixed(5)),r=n+"e"+o,n=1*r,n}String.prototype.loCase=function(){let n=this.toLowerCase();return n},Number.prototype.fix=function(i=13){let e=this;return sth=""+e,ind(sth,"e")>-1?(e=n(e,i),Math.abs(e)<1e-12&&(e=0)):(e*=1e103,e=n(e,i,103)),e}}function loopFun(n,i,e,t){if(!i.test(n))return n;let r=ind(n,e);for(;r>-1;)dwInp=n.slice(r,n.length),n=n.slice(0,r),ind(t,n.charAt(r-1),0)>-1&&(dwInp="*"+dwInp),r+=2,n+=dwInp,r=ind(n,e,r);return n}function brackets(inp){let inRB,upInp,inLB,dwInp,inRBDw,bet;for(;ind(inp,"(")>-1;)inRB=ind(inp,")"),upInp=inp.slice(0,inRB),inLB=laIn(upInp,"(",inRB),dwInp=inp.slice(inLB,inp.length),inRBDw=ind(dwInp,")"),bet=dwInp.slice(1,inRBDw),upInp=inp.slice(0,inLB),bet=rep(bet,"left","("),bet=rep(bet,"right",")"),bet=eval(bet),bet=bet.fix(),dwInp=dwInp.slice(inRBDw,dwInp.length),dwInp=dwInp.replace(")","right"),dwInp="left"+bet+dwInp,inp=upInp+dwInp;return inp=rep(inp,"left","("),inp=rep(inp,"right",")"),inp}function calcMat(inp){let dwInp,i,rdw,ldw,inUpInp=laIn(inp,"Math"),dwDwinp;for(;inUpInp>-1;){for(inp.slice(inUpInp-reOngl.length-1,inUpInp)==reOngl+"*"&&(inUpInp=laIn(inp,reOngl+"*Math")),rdw=0,ldw=0,i=1,dwInp=inp.slice(inUpInp,inp.length),inp=inp.slice(0,inUpInp),ldw=ind(dwInp,"("),ldw++;i>0;)rdw=ind(dwInp,")",rdw),ldw=ind(dwInp,"(",ldw),ldw<rdw&&ldw>-1?(ldw++,i++):(ldw=rdw,rdw++,i--);dwDwinp=dwInp.slice(rdw,dwInp.length),dwInp=dwInp.slice(0,rdw),9===ind(dwInp,ongl)&&(dwInp=dwInp.replace(ongl+"*",ongl+"*("),dwInp+=")"),dwInp=brackets(dwInp),dwInp=eval(dwInp),dwInp=dwInp.fix(),inp+=dwInp+dwDwinp,inUpInp=laIn(inp,"Math")}return inp}function calcule(){let inp=fichour.innerText,lenInp=inp.length,crInp=inp.charAt(lenInp-1),arSy=[],fich=inp,symbols="/*×-+(^.";if(result.innerText="",(ind(symbols,crInp)>-1||lenInp<2)&&ind(inp,"π")<0)return!1;if("+"!==inp.charAt(0)&&"-"!==inp.charAt(0)||(inp="0"+inp),arSy=[[" ",""],[" ",""],[",",""],["×","*"],["%","*1/100"],["^","**"],["²","**(2)"],["π","(3.141592653589793)"],["÷","/"]],arSy.forEach(n=>{inp=rep(inp,n[0],n[1])}),ind(inp,"(")>-1||ind(inp,"e**")>-1){let n=/\)(\d|M|\()/gi,i=/\dreOngl/gi,e=[],t=rep(inp,")","").length-rep(inp,"(","").length;for(let n=0;n<t;n++)inp+=")";inp=inp.loCase(),e=[["cosh","acos","cos(","asin","sinh","sin(","atan","tanh","tan(","log","abs","k","j","f","e**","ln","√","w","u","v","z","x","y","(-","(+"],["f","j","k","u","v","w","x","y","z","Math.logt","Math.abs","Math.cos("+ongl+"*","reOngl*Math.acos","Math.cosh","(2.718281828459045)**","Math.log","Math.sqrt","Math.sin("+ongl+"*","reOngl*Math.asin","Math.sinh","Math.tan("+ongl+"*","reOngl*Math.atan","Math.tanh","(0-","(0+"]];for(let n=0;n<e[0].length;n++)inp=rep(inp,e[0][n],e[1][n]);if(inp=loopFun(inp,/\d\(/gi,"(",num),inp=loopFun(inp,/\dM/gi,"M",num),inp=loopFun(inp,/\dreOngl/gi,"reOngl",num),inp=rep(inp,"reOngl",reOngl),n.test(inp)){let n=ind(inp,")"),i;for(;n>-1;)i=inp.slice(n+1,inp.length),inp=inp.slice(0,n+1),(ind(num,i.charAt(0))>-1||"M"===i.charAt(0)||"("===i.charAt(0))&&i.length>0&&(i="*"+i),n++,inp+=i,n=ind(inp,")",n)}inp=rep(inp,"logt","log10"),inp=calcMat(inp),inp=brackets(inp)}try{inp=eval(inp),inp=inp.fix(),result.style.color="rgb(14, 66, 20)",isNaN(inp)||(inp=frNm(inp),inp!=fich&&(result.innerText=inp))}catch(n){function forErr(n,i){result.style.color="red",result.innerText='You must convert " '+n+i+' " to " '+n+"("+i+' "'}ind(inp,"*-")>-1?forErr("×","-"):ind(inp,"*+")>-1?forErr("×","+"):ind(inp,"/-")>-1?forErr("÷","-"):ind(inp,"/+")>-1&&forErr("÷","+")}}nFix();let ongl="0.017453292519943",reOngl="57.29577951308329",mim="",fichour=gebi("fichour"),SCN="normal",result=gebi("result"),rLHF=[],rLHR=[],psClk=0,num=["0","1","2","3","4","5","6","7","8","9"],dvfch=gebi("dvfch"),div1=gebi("fdiv"),div2=gebi("divNum"),inp,deferredPrompt;gebi("dvfch").oncontextmenu=(n=>{n.preventDefault(),gebi("psSp").style.display="inline"}),gebi("psSp").onclick=(()=>{navigator.clipboard.readText().then(n=>{toFchr(n)})}),creatin(),window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),deferredPrompt=n;let i=navigator.userAgent.toLocaleLowerCase();(i.includes("android")||i.includes("ipad")||i.includes("iphone"))&&(gebi("dwnld").src="https://virefie.github.io/imgs/anddw.png",gebi("dvdw").className="blck")}),gebi("dwnld").addEventListener("click",async()=>{gebi("dvdw").className="n",deferredPrompt.prompt(),deferredPrompt=null});